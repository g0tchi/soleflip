# StockX Data Sync Workflow - Visual Diagram

## Workflow Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        StockX Data Sync Workflow                               â”‚
â”‚                     Runs every 4 hours (0 */4 * * *)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TRIGGER NODE                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      ğŸ“… Every 4 Hours                  â”‚
        â”‚   (n8n-nodes-base.scheduleTrigger)     â”‚
        â”‚                                        â”‚
        â”‚   Cron: 0 */4 * * *                   â”‚
        â”‚   Fires at: 00:00, 04:00, 08:00,      â”‚
        â”‚             12:00, 16:00, 20:00        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 1: FETCH ACTIVE ORDERS (LISTED ITEMS)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  ğŸ“¡ Fetch Active Orders (Listed)       â”‚
        â”‚   (n8n-nodes-base.httpRequest)         â”‚
        â”‚                                        â”‚
        â”‚   Method: GET                          â”‚
        â”‚   URL: http://soleflip-api:8000       â”‚
        â”‚        /api/v1/orders/active          â”‚
        â”‚                                        â”‚
        â”‚   âš™ï¸  Error Handling:                  â”‚
        â”‚   â€¢ Timeout: 60 seconds                â”‚
        â”‚   â€¢ Retries: 3 attempts                â”‚
        â”‚   â€¢ Backoff: 5s, 10s, 20s             â”‚
        â”‚   â€¢ Continue on failure                â”‚
        â”‚                                        â”‚
        â”‚   ğŸ“Š What it fetches:                  â”‚
        â”‚   â€¢ All current StockX listings        â”‚
        â”‚   â€¢ Order details (product, size, $)   â”‚
        â”‚   â€¢ Auto-syncs to database             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   âœ… Orders Fetch Success?             â”‚
        â”‚   (n8n-nodes-base.if)                  â”‚
        â”‚                                        â”‚
        â”‚   Condition:                           â”‚
        â”‚   statusCode === 200                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                    â”‚
                â”‚ âœ… Success         â”‚ âŒ Error
                â”‚                    â”‚
                â–¼                    â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 2: FETCH SOLD     â”‚    â”‚  ERROR PATH              â”‚
â”‚  ORDERS                 â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚  âš ï¸  Log Orders Error     â”‚
        â”‚  ğŸ“¡ Fetch Sold Orders (Recent)         â”‚           â”‚   (n8n-nodes-base.set)    â”‚
        â”‚   (n8n-nodes-base.httpRequest)         â”‚           â”‚                           â”‚
        â”‚                                        â”‚           â”‚   Logs:                   â”‚
        â”‚   Method: GET                          â”‚           â”‚   â€¢ Timestamp             â”‚
        â”‚   URL: http://soleflip-api:8000       â”‚           â”‚   â€¢ Error message         â”‚
        â”‚        /api/v1/orders/stockx-history  â”‚           â”‚   â€¢ Status code           â”‚
        â”‚                                        â”‚           â”‚   â€¢ Failed step name      â”‚
        â”‚   Query Params:                        â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚   â€¢ fromDate: [4 hours ago]           â”‚                       â”‚
        â”‚   â€¢ toDate: [now]                     â”‚                       â”‚
        â”‚                                        â”‚                       â–¼
        â”‚   âš™ï¸  Error Handling:                  â”‚                   [END]
        â”‚   â€¢ Timeout: 60 seconds                â”‚
        â”‚   â€¢ Retries: 3 attempts                â”‚
        â”‚   â€¢ Backoff: 5s, 10s, 20s             â”‚
        â”‚   â€¢ Continue on failure                â”‚
        â”‚                                        â”‚
        â”‚   ğŸ“Š What it fetches:                  â”‚
        â”‚   â€¢ Orders sold in last 4 hours        â”‚
        â”‚   â€¢ Completed transactions             â”‚
        â”‚   â€¢ Auto-syncs to database             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   âœ… Sold Orders Success?              â”‚
        â”‚   (n8n-nodes-base.if)                  â”‚
        â”‚                                        â”‚
        â”‚   Condition:                           â”‚
        â”‚   statusCode === 200                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                    â”‚
                â”‚ âœ… Success         â”‚ âŒ Error
                â”‚                    â”‚
                â–¼                    â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SUCCESS PATH           â”‚    â”‚  ERROR PATH              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‰ Log Success            â”‚  â”‚  âš ï¸  Log Sold Error        â”‚
â”‚   (n8n-nodes-base.set)     â”‚  â”‚   (n8n-nodes-base.set)     â”‚
â”‚                            â”‚  â”‚                            â”‚
â”‚   Logs:                    â”‚  â”‚   Logs:                    â”‚
â”‚   â€¢ Timestamp              â”‚  â”‚   â€¢ Timestamp              â”‚
â”‚   â€¢ Active orders count    â”‚  â”‚   â€¢ Error message          â”‚
â”‚   â€¢ Sold orders count      â”‚  â”‚   â€¢ Status code            â”‚
â”‚   â€¢ Success message        â”‚  â”‚   â€¢ Failed step name       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                               â”‚
            â–¼                               â–¼
         [END]                           [END]
```

## Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              â”‚         â”‚              â”‚         â”‚              â”‚
â”‚   n8n        â”‚â”€â”€â”€â”€1â”€â”€â”€â–¶â”‚  SoleFlip    â”‚â”€â”€â”€â”€2â”€â”€â”€â–¶â”‚   StockX     â”‚
â”‚   Workflow   â”‚         â”‚   API        â”‚         â”‚   API        â”‚
â”‚              â”‚         â”‚              â”‚         â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â–²                         â”‚                         â”‚
      â”‚                         â”‚                         â”‚
      â”‚                         3                         â”‚
      â”‚                         â”‚                         â”‚
      â”‚                    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                   â”‚
      â”‚                    â”‚          â”‚                   â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€5â”€â”€â”€â”€â”€â”€â”€â”€â”‚PostgreSQLâ”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€4â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ Database â”‚
                           â”‚          â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legend:
1. n8n triggers API call every 4 hours
2. SoleFlip API authenticates and calls StockX
3. API receives StockX data
4. API automatically syncs to database
5. n8n reads confirmation/status
```

## Node Details

### Trigger Node
```
Node Type: Schedule Trigger
Trigger: Time-based (cron)
Schedule: 0 */4 * * * (every 4 hours)
Timezone: Server timezone (UTC)
```

### HTTP Request Nodes (x2)
```
Node Type: HTTP Request
Method: GET
Timeout: 60000ms (60 seconds)
Retry Policy:
  â€¢ Max Retries: 3
  â€¢ Wait Between: 5000ms (5 seconds)
  â€¢ Exponential Backoff: Yes
Error Handling: Continue on failure
Authentication: None (internal network)
```

### IF Nodes (x2)
```
Node Type: If (conditional router)
Condition Type: Number comparison
Operator: Equals (===)
Left Value: $json.statusCode
Right Value: 200
True Branch: Continue to next step
False Branch: Log error and end
```

### Set Nodes (x3)
```
Node Type: Set (data transformation)
Mode: Manual mapping
Purpose: Structure log output
Fields: 6 fields (timestamp, status, counts, message)
```

## Execution Timeline

```
Time: 00:00
â”œâ”€ [00:00:00] Trigger fires
â”œâ”€ [00:00:01] Fetch active orders (5-15s)
â”œâ”€ [00:00:15] Check success condition
â”œâ”€ [00:00:16] Fetch sold orders (3-10s)
â”œâ”€ [00:00:25] Check success condition
â””â”€ [00:00:26] Log success âœ…

Total Duration: ~30 seconds
```

## Error Handling Flow

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  HTTP Error  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Retry (1/3)  â”‚
                    â”‚ Wait 5s      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Retry (2/3)  â”‚
                    â”‚ Wait 10s     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Retry (3/3)  â”‚
                    â”‚ Wait 20s     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Still Failed â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ Continue to  â”‚
                    â”‚ Error Branch â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Log Error   â”‚
                    â”‚  End Exec    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Database Tables Updated

```
transactions.orders
â”œâ”€ Columns: id, source, status, product_id, variant_id, price_cents
â”œâ”€ Source: 'stockx'
â”œâ”€ Updated By: OrderImportService
â””â”€ Upsert Logic: Create new or update existing

inventory.inventory_items
â”œâ”€ Columns: id, product_id, status, location
â”œâ”€ Status: 'listed' or 'sold'
â””â”€ Updated: On order status change

catalog.product
â”œâ”€ Enrichment data from StockX
â”œâ”€ Price history tracking
â””â”€ Updated: When new products detected
```

## Performance Metrics

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Metric               â”‚ Typical     â”‚ Max          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Active Orders        â”‚ 50-200      â”‚ 1000+        â”‚
â”‚ Sold Orders (4hr)    â”‚ 5-50        â”‚ 200+         â”‚
â”‚ Execution Time       â”‚ 10-30s      â”‚ 60s          â”‚
â”‚ API Response Time    â”‚ 3-15s       â”‚ 30s          â”‚
â”‚ Database Write       â”‚ 1-5s        â”‚ 10s          â”‚
â”‚ Total Duration       â”‚ 15-30s      â”‚ 60s          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Network Topology

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Docker Network: soleflip-network           â”‚
â”‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   n8n    â”‚â—€â”€â”€â–¶â”‚   API    â”‚â—€â”€â”€â–¶â”‚PostgreSQLâ”‚   â”‚
â”‚  â”‚  :5678   â”‚    â”‚  :8000   â”‚    â”‚  :5432   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                        â–²                          â”‚
â”‚                        â”‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ HTTPS
                         â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  StockX API â”‚
                  â”‚  (External) â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Monitoring Points

```
âœ“ Check Point 1: Schedule Trigger
  â””â”€ Is workflow active?

âœ“ Check Point 2: Active Orders HTTP
  â””â”€ HTTP 200 response?
  â””â”€ Valid JSON array?
  â””â”€ Response time < 30s?

âœ“ Check Point 3: Success Condition
  â””â”€ statusCode === 200?

âœ“ Check Point 4: Sold Orders HTTP
  â””â”€ HTTP 200 response?
  â””â”€ Valid JSON array?
  â””â”€ Response time < 30s?

âœ“ Check Point 5: Success Condition
  â””â”€ statusCode === 200?

âœ“ Check Point 6: Log Output
  â””â”€ Counts > 0?
  â””â”€ Timestamp recent?
  â””â”€ No errors?

âœ“ Check Point 7: Database
  â””â”€ New rows in transactions.orders?
  â””â”€ Timestamps match execution time?
```

## Legend

```
ğŸ“… Schedule/Timer Node
ğŸ“¡ HTTP Request Node
âœ… Conditional Logic Node (IF)
âš™ï¸  Configuration/Settings
ğŸ“Š Data Output
ğŸ‰ Success State
âš ï¸  Error State
â”€â”€â–¶ Data Flow Direction
 â”‚  Sequential Flow
 â–¼  Downward Flow
```

This workflow provides **production-ready, automated StockX data synchronization** with comprehensive error handling, retry logic, and structured logging.
